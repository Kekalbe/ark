(function(){function u(e){if(!e)return!1;if(e.dataset.sliderInitialized)return!0;let t=[...e.querySelectorAll(".outer-container")];if(t.length===0)return!1;let s=!1,a=!1,o=!0,h,f=0;const p=50;let n=1;const T=t[0].cloneNode(!0),w=t[t.length-1].cloneNode(!0);setTimeout(()=>{e.appendChild(T),e.insertBefore(w,t[0]),t=[...e.querySelectorAll(".outer-container")],l()},0);function l(){const r=e.offsetWidth,d=t[0].offsetWidth,v=-(n*d)+r/2-d/2;e.style.transform=`translateX(${v}px)`}let E;function m(){o&&(c(),E=setInterval(()=>{!s&&!a&&(n++,e.style.transition="transform 1.5s ease",l(),(n===t.length-1||n===0)&&(a=!0))},4e3))}function c(){clearInterval(E)}function X(r){o=r,o?(c(),m(),e.style.pointerEvents="none",e.style.cursor="default"):(c(),e.style.pointerEvents="auto",e.style.cursor="grab",e.dispatchEvent(new Event("mouseenter")))}e.addEventListener("mouseenter",()=>{o?e.style.cursor="default":s||(e.style.cursor="grab")}),window.mySlider={setAutoplay:X},l(),m();function L(r){o||(s=!0,a=!1,c(),h=r.touches?r.touches[0].clientX:r.clientX,f=0,e.style.cursor="grabbing")}function b(r){if(!s||o)return;f=(r.touches?r.touches[0].pageX:r.pageX)-h}function g(){!s||o||(s=!1,e.style.cursor=o?"default":"grab",e.style.transition="transform 1.5s ease",W(),m())}function W(){f>p&&n>0?n--:f<-p&&n<t.length-1&&n++,a=!0,e.style.transition="transform 1.5s ease",l(),setTimeout(()=>{a=!1},1e3)}e.addEventListener("transitionend",()=>{n===t.length-1?(e.style.transition="none",n=1,l()):n===0&&(e.style.transition="none",n=t.length-2,l()),a=!1});let I;return window.addEventListener("resize",()=>{c(),clearTimeout(I),e.style.transition="none";const r=e.offsetWidth,d=t[0].offsetWidth,v=-(n*d)+r/2-d/2;e.style.transform=`translateX(${v}px)`,I=setTimeout(()=>{e.style.transition="transform 0.6s ease",m()},250)}),e.addEventListener("touchstart",L),e.addEventListener("touchmove",b),e.addEventListener("touchend",g),e.addEventListener("touchcancel",g),e.addEventListener("mousedown",L),e.addEventListener("mousemove",b),e.addEventListener("mouseup",g),e.addEventListener("mouseleave",g),e.dataset.sliderInitialized="true",!0}function y(){const e=document.querySelector(".skins-c");u(e)}document.addEventListener("readystatechange",()=>{document.readyState==="complete"&&y()}),window.addEventListener("load",y),new MutationObserver(()=>{const e=document.querySelector(".skins-c");e&&!e.dataset.sliderInitialized&&u(e)}).observe(document.body,{childList:!0,subtree:!0})})();async function S(){try{(await(await fetch("public/personagens.json")).json()).forEach(i=>{const e=document.getElementById(i.id),t=document.querySelector(".name"),s=document.querySelector(".imagem-p img");e&&e.addEventListener("click",()=>{console.log(`Alterando para: ${i.novoTextoName}`),t&&(t.classList.remove("animatingTexto"),t.offsetWidth,t.textContent=i.novoTextoName,t.classList.add("animatingTexto")),s&&(s.classList.remove("animatingImagem"),s.offsetWidth,s.src=i.imagem,s.srcset=i.imagem,s.onload=()=>{s.classList.add("animatingImagem")},s.complete&&s.classList.add("animatingImagem"))})})}catch(u){console.error("Erro ao carregar personagens:",u)}}S();
